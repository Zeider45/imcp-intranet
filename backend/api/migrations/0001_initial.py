# Generated by Django 5.2.8 on 2025-11-28 18:58

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Department',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('description', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Department',
                'verbose_name_plural': 'Departments',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='TrainingProvider',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, verbose_name='Nombre del Proveedor')),
                ('contact_name', models.CharField(blank=True, max_length=200, verbose_name='Persona de Contacto')),
                ('email', models.EmailField(blank=True, max_length=254)),
                ('phone', models.CharField(blank=True, max_length=50)),
                ('specialties', models.TextField(blank=True, verbose_name='Especialidades')),
                ('rating', models.IntegerField(blank=True, null=True, verbose_name='Calificación (1-5)')),
                ('notes', models.TextField(blank=True, verbose_name='Notas')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Proveedor de Capacitación',
                'verbose_name_plural': 'Proveedores de Capacitación',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='InternalVacancy',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='Título del Puesto')),
                ('description', models.TextField(verbose_name='Descripción del Puesto')),
                ('responsibilities', models.TextField(verbose_name='Responsabilidades')),
                ('technical_requirements', models.TextField(verbose_name='Requisitos Técnicos')),
                ('competencies', models.TextField(verbose_name='Competencias Requeridas')),
                ('experience_required', models.CharField(max_length=200, verbose_name='Experiencia Mínima')),
                ('specific_knowledge', models.TextField(blank=True, verbose_name='Conocimientos Específicos')),
                ('salary_range_min', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Rango Salarial Mínimo')),
                ('salary_range_max', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Rango Salarial Máximo')),
                ('status', models.CharField(choices=[('draft', 'Borrador'), ('pending_approval', 'Pendiente de Aprobación'), ('published', 'Publicada'), ('closed', 'Cerrada'), ('filled', 'Cubierta'), ('cancelled', 'Cancelada')], default='draft', max_length=20)),
                ('authorization_justification', models.TextField(verbose_name='Justificación de la Solicitud')),
                ('budget_approved', models.BooleanField(default=False, verbose_name='Presupuesto Aprobado')),
                ('required_date', models.DateField(blank=True, null=True, verbose_name='Fecha Requerida')),
                ('application_deadline', models.DateField(blank=True, null=True, verbose_name='Fecha Límite de Postulación')),
                ('published_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('department', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='vacancies', to='api.department')),
                ('hr_manager', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='managed_vacancies', to=settings.AUTH_USER_MODEL, verbose_name='Responsable RRHH')),
                ('requested_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='requested_vacancies', to=settings.AUTH_USER_MODEL, verbose_name='Gerente Solicitante')),
            ],
            options={
                'verbose_name': 'Vacante Interna',
                'verbose_name_plural': 'Vacantes Internas',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='LibraryDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=300, verbose_name='Título del Documento')),
                ('code', models.CharField(max_length=50, unique=True, verbose_name='Código de Documento')),
                ('description', models.TextField(blank=True, verbose_name='Descripción')),
                ('content', models.TextField(blank=True, verbose_name='Contenido del Documento')),
                ('document_type', models.CharField(choices=[('manual', 'Manual Técnico'), ('procedure', 'Procedimiento'), ('policy', 'Política'), ('guide', 'Guía de Usuario'), ('specification', 'Especificación Funcional'), ('form', 'Formulario'), ('report', 'Reporte'), ('other', 'Otro')], default='manual', max_length=20)),
                ('version', models.CharField(default='1.0', max_length=20, verbose_name='Versión')),
                ('file', models.FileField(blank=True, null=True, upload_to='library_documents/%Y/%m/', validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['pdf', 'doc', 'docx', 'xls', 'xlsx', 'txt', 'ppt', 'pptx'])], verbose_name='Archivo del Documento')),
                ('tags', models.CharField(blank=True, max_length=500, verbose_name='Etiquetas (separadas por coma)')),
                ('status', models.CharField(choices=[('draft', 'Borrador'), ('pending_approval', 'Pendiente de Aprobación'), ('approved', 'Aprobado'), ('approved_with_observations', 'Aprobado con Observaciones'), ('rejected', 'Rechazado'), ('published', 'Publicado'), ('archived', 'Archivado')], default='draft', max_length=30)),
                ('submitted_at', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Envío a Aprobación')),
                ('approval_decision', models.CharField(choices=[('pending', 'Pendiente'), ('approved', 'Aprobado'), ('approved_with_observations', 'Aprobado con Observaciones'), ('rejected', 'Rechazado')], default='pending', max_length=30, verbose_name='Decisión de Aprobación')),
                ('approval_observations', models.TextField(blank=True, verbose_name='Observaciones de Aprobación')),
                ('corrections_required', models.TextField(blank=True, verbose_name='Correcciones Requeridas')),
                ('rejection_reason', models.TextField(blank=True, verbose_name='Motivo de Rechazo')),
                ('approved_at', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Aprobación')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('download_count', models.IntegerField(default=0, verbose_name='Número de Descargas')),
                ('view_count', models.IntegerField(default=0, verbose_name='Número de Vistas')),
                ('approver', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_library_documents', to=settings.AUTH_USER_MODEL, verbose_name='Aprobador')),
                ('author', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='authored_library_documents', to=settings.AUTH_USER_MODEL, verbose_name='Autor')),
                ('department', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='library_documents', to='api.department')),
            ],
            options={
                'verbose_name': 'Documento de Biblioteca',
                'verbose_name_plural': 'Biblioteca de Documentos',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Policy',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=300, verbose_name='Título de la Política')),
                ('code', models.CharField(max_length=50, unique=True, verbose_name='Código de Política')),
                ('description', models.TextField(verbose_name='Descripción')),
                ('content', models.TextField(verbose_name='Contenido de la Política')),
                ('status', models.CharField(choices=[('draft', 'Borrador'), ('under_review', 'En Revisión'), ('pending_signatures', 'Pendiente de Firmas'), ('approved', 'Aprobada'), ('published', 'Publicada'), ('obsolete', 'Obsoleta')], default='draft', max_length=20)),
                ('origin', models.CharField(choices=[('sudeban', 'Cambio Normativo SUDEBAN'), ('bcv', 'Cambio Normativo BCV'), ('audit', 'Resultado de Auditoría'), ('improvement', 'Mejora de Procesos'), ('internal', 'Iniciativa Interna'), ('other', 'Otro')], max_length=20, verbose_name='Origen de la Necesidad')),
                ('origin_justification', models.TextField(verbose_name='Justificación')),
                ('review_meeting_date', models.DateField(blank=True, null=True, verbose_name='Fecha de Reunión de Revisión')),
                ('review_meeting_notes', models.TextField(blank=True, verbose_name='Minuta de Reunión')),
                ('board_approval_date', models.DateField(blank=True, null=True, verbose_name='Fecha Aprobación Junta Directiva')),
                ('board_approved', models.BooleanField(default=False, verbose_name='Aprobado por Junta Directiva')),
                ('effective_date', models.DateField(blank=True, null=True, verbose_name='Fecha de Vigencia')),
                ('expiration_date', models.DateField(blank=True, null=True, verbose_name='Fecha de Expiración')),
                ('version', models.CharField(default='1.0', max_length=20)),
                ('file', models.FileField(blank=True, null=True, upload_to='policies/%Y/%m/', validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['pdf', 'doc', 'docx'])])),
                ('published_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('auditor_reviewer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='audited_policies', to=settings.AUTH_USER_MODEL, verbose_name='Auditor Revisor')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='created_policies', to=settings.AUTH_USER_MODEL, verbose_name='Gerente Creador')),
                ('department', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api.department')),
                ('peer_reviewer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='peer_reviewed_policies', to=settings.AUTH_USER_MODEL, verbose_name='Gerente Par Revisor')),
                ('replaces_policy', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='replaced_by', to='api.policy', verbose_name='Reemplaza a Política')),
            ],
            options={
                'verbose_name': 'Política',
                'verbose_name_plural': 'Políticas',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TrainingPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=300, verbose_name='Título de la Capacitación')),
                ('description', models.TextField(verbose_name='Descripción/Objetivo')),
                ('topics', models.TextField(verbose_name='Temas a Cubrir')),
                ('origin', models.CharField(choices=[('performance', 'Evaluación de Desempeño'), ('new_technology', 'Nueva Tecnología/Sistema'), ('regulation', 'Actualización Normativa'), ('audit', 'Resultado de Auditoría'), ('other', 'Otro')], max_length=20, verbose_name='Origen de la Necesidad')),
                ('scope', models.CharField(choices=[('intergerencial', 'Intergerencial'), ('interdepartamental', 'Interdepartamental')], max_length=20, verbose_name='Alcance')),
                ('modality', models.CharField(choices=[('presential', 'Presencial'), ('online', 'En Línea'), ('hybrid', 'Híbrido')], default='presential', max_length=20)),
                ('duration_hours', models.IntegerField(verbose_name='Duración (horas)')),
                ('status', models.CharField(choices=[('planning', 'En Planificación'), ('budget_review', 'En Revisión de Presupuesto'), ('quotation', 'En Cotización'), ('approved', 'Aprobado'), ('scheduled', 'Programado'), ('in_progress', 'En Progreso'), ('completed', 'Completado'), ('cancelled', 'Cancelado')], default='planning', max_length=20)),
                ('budget_amount', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Presupuesto')),
                ('budget_approved', models.BooleanField(default=False, verbose_name='Presupuesto Aprobado')),
                ('instructor_profile', models.TextField(blank=True, verbose_name='Perfil del Instructor Requerido')),
                ('planned_start_date', models.DateField(blank=True, null=True, verbose_name='Fecha Planificada de Inicio')),
                ('planned_end_date', models.DateField(blank=True, null=True, verbose_name='Fecha Planificada de Fin')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('assigned_manager', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assigned_training_plans', to=settings.AUTH_USER_MODEL, verbose_name='Gerente Asignado')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='created_training_plans', to=settings.AUTH_USER_MODEL, verbose_name='Creado Por (Presidente)')),
                ('department', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api.department')),
            ],
            options={
                'verbose_name': 'Plan de Capacitación',
                'verbose_name_plural': 'Planes de Capacitación',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TrainingQuotation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('received', 'Recibida'), ('under_review', 'En Revisión'), ('selected', 'Seleccionada'), ('rejected', 'Rechazada')], default='received', max_length=20)),
                ('temario', models.TextField(verbose_name='Temario Ofrecido')),
                ('duration_hours', models.IntegerField(verbose_name='Duración Propuesta (horas)')),
                ('cost', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Costo')),
                ('instructor_name', models.CharField(blank=True, max_length=200, verbose_name='Nombre del Instructor')),
                ('instructor_profile', models.TextField(blank=True, verbose_name='Perfil del Instructor')),
                ('available_dates', models.TextField(blank=True, verbose_name='Fechas Disponibles')),
                ('validity_date', models.DateField(blank=True, null=True, verbose_name='Vigencia de la Cotización')),
                ('received_at', models.DateTimeField(auto_now_add=True)),
                ('notes', models.TextField(blank=True)),
                ('provider', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='quotations', to='api.trainingprovider')),
                ('training_plan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='quotations', to='api.trainingplan')),
            ],
            options={
                'verbose_name': 'Cotización de Capacitación',
                'verbose_name_plural': 'Cotizaciones de Capacitación',
                'ordering': ['-received_at'],
            },
        ),
        migrations.CreateModel(
            name='TrainingSession',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=300, verbose_name='Título de la Sesión')),
                ('description', models.TextField(blank=True)),
                ('instructor_name', models.CharField(max_length=200, verbose_name='Nombre del Instructor')),
                ('status', models.CharField(choices=[('scheduled', 'Programada'), ('confirmed', 'Confirmada'), ('in_progress', 'En Progreso'), ('completed', 'Completada'), ('cancelled', 'Cancelada')], default='scheduled', max_length=20)),
                ('location', models.CharField(max_length=300, verbose_name='Lugar')),
                ('start_datetime', models.DateTimeField(verbose_name='Fecha y Hora de Inicio')),
                ('end_datetime', models.DateTimeField(verbose_name='Fecha y Hora de Fin')),
                ('materials_required', models.TextField(blank=True, verbose_name='Materiales Requeridos')),
                ('objectives', models.TextField(blank=True, verbose_name='Objetivos')),
                ('max_participants', models.IntegerField(blank=True, null=True, verbose_name='Máximo de Participantes')),
                ('confirmation_deadline', models.DateField(blank=True, null=True, verbose_name='Fecha Límite de Confirmación')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('provider', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api.trainingprovider')),
                ('training_plan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sessions', to='api.trainingplan')),
            ],
            options={
                'verbose_name': 'Sesión de Capacitación',
                'verbose_name_plural': 'Sesiones de Capacitación',
                'ordering': ['start_datetime'],
            },
        ),
        migrations.CreateModel(
            name='VacancyApplication',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('current_manager_authorization', models.BooleanField(default=False, verbose_name='Autorización del Gerente Actual')),
                ('status', models.CharField(choices=[('submitted', 'Enviada'), ('under_review', 'En Revisión'), ('shortlisted', 'Preseleccionado'), ('interview_scheduled', 'Entrevista Programada'), ('interviewed', 'Entrevistado'), ('selected', 'Seleccionado'), ('rejected', 'Rechazado'), ('withdrawn', 'Retirada')], default='submitted', max_length=25)),
                ('cover_letter', models.TextField(blank=True, verbose_name='Carta de Presentación')),
                ('cv_file', models.FileField(blank=True, null=True, upload_to='vacancy_applications/%Y/%m/', validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['pdf', 'doc', 'docx'])], verbose_name='CV Actualizado')),
                ('certificates_file', models.FileField(blank=True, null=True, upload_to='vacancy_certificates/%Y/%m/', verbose_name='Certificados')),
                ('performance_evaluations', models.TextField(blank=True, verbose_name='Referencias a Evaluaciones de Desempeño')),
                ('technical_score', models.IntegerField(blank=True, null=True, verbose_name='Puntuación Técnica')),
                ('experience_score', models.IntegerField(blank=True, null=True, verbose_name='Puntuación de Experiencia')),
                ('performance_score', models.IntegerField(blank=True, null=True, verbose_name='Puntuación de Desempeño')),
                ('potential_score', models.IntegerField(blank=True, null=True, verbose_name='Puntuación de Potencial')),
                ('overall_ranking', models.IntegerField(blank=True, null=True, verbose_name='Ranking General')),
                ('interview_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Entrevista')),
                ('interview_notes', models.TextField(blank=True, verbose_name='Notas de Entrevista')),
                ('hr_notes', models.TextField(blank=True, verbose_name='Notas de RRHH')),
                ('rejection_reason', models.TextField(blank=True, verbose_name='Motivo de Rechazo')),
                ('applied_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('applicant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='vacancy_applications', to=settings.AUTH_USER_MODEL, verbose_name='Postulante')),
                ('current_manager', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='employee_applications', to=settings.AUTH_USER_MODEL, verbose_name='Gerente Actual')),
                ('vacancy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='applications', to='api.internalvacancy')),
            ],
            options={
                'verbose_name': 'Aplicación a Vacante',
                'verbose_name_plural': 'Aplicaciones a Vacantes',
                'ordering': ['-applied_at'],
                'unique_together': {('vacancy', 'applicant')},
            },
        ),
        migrations.CreateModel(
            name='VacancyTransition',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('previous_position', models.CharField(max_length=200, verbose_name='Puesto Anterior')),
                ('new_position', models.CharField(max_length=200, verbose_name='Nuevo Puesto')),
                ('status', models.CharField(choices=[('pending', 'Pendiente'), ('in_progress', 'En Progreso'), ('completed', 'Completada')], default='pending', max_length=20)),
                ('transition_date', models.DateField(blank=True, null=True, verbose_name='Fecha de Transición')),
                ('directory_updated', models.BooleanField(default=False, verbose_name='Directorio Actualizado')),
                ('system_permissions_updated', models.BooleanField(default=False, verbose_name='Permisos de Sistema Actualizados')),
                ('file_updated', models.BooleanField(default=False, verbose_name='Expediente Actualizado')),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('application', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='transition', to='api.vacancyapplication')),
                ('hr_coordinator', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='coordinated_transitions', to=settings.AUTH_USER_MODEL, verbose_name='Coordinador RRHH')),
                ('new_department', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='incoming_transitions', to='api.department')),
                ('previous_department', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='outgoing_transitions', to='api.department')),
            ],
            options={
                'verbose_name': 'Transición de Puesto',
                'verbose_name_plural': 'Transiciones de Puesto',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PolicyDistribution',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('distributed_at', models.DateTimeField(auto_now_add=True)),
                ('acknowledged', models.BooleanField(default=False, verbose_name='Acuse de Recibo')),
                ('acknowledged_at', models.DateTimeField(blank=True, null=True)),
                ('distributed_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='distributed_policies', to=settings.AUTH_USER_MODEL, verbose_name='Distribuido Por')),
                ('policy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='distributions', to='api.policy')),
                ('recipient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='received_policies', to=settings.AUTH_USER_MODEL, verbose_name='Destinatario')),
            ],
            options={
                'verbose_name': 'Distribución de Política',
                'verbose_name_plural': 'Distribuciones de Políticas',
                'ordering': ['-distributed_at'],
                'unique_together': {('policy', 'recipient')},
            },
        ),
        migrations.CreateModel(
            name='TrainingAttendance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('confirmation_status', models.CharField(choices=[('pending', 'Pendiente'), ('confirmed', 'Confirmada'), ('declined', 'Rechazada'), ('rescheduled', 'Reprogramada')], default='pending', max_length=20)),
                ('confirmation_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Confirmación')),
                ('decline_reason', models.TextField(blank=True, verbose_name='Motivo de Rechazo')),
                ('justification_document', models.FileField(blank=True, null=True, upload_to='training_justifications/%Y/%m/', verbose_name='Documento de Justificación')),
                ('attendance_status', models.CharField(choices=[('not_recorded', 'No Registrada'), ('present', 'Presente'), ('absent_justified', 'Ausente Justificado'), ('absent_unjustified', 'Ausente Injustificado'), ('late', 'Tardanza')], default='not_recorded', max_length=20)),
                ('arrival_time', models.TimeField(blank=True, null=True, verbose_name='Hora de Llegada')),
                ('departure_time', models.TimeField(blank=True, null=True, verbose_name='Hora de Salida')),
                ('attendance_signature', models.BooleanField(default=False, verbose_name='Firma de Asistencia')),
                ('evaluation_score', models.IntegerField(blank=True, null=True, verbose_name='Calificación de Evaluación')),
                ('certificate_issued', models.BooleanField(default=False, verbose_name='Certificado Emitido')),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('analyst', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='training_attendances', to=settings.AUTH_USER_MODEL, verbose_name='Analista')),
                ('invited_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='training_invitations', to=settings.AUTH_USER_MODEL, verbose_name='Convocado Por')),
                ('session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attendances', to='api.trainingsession')),
            ],
            options={
                'verbose_name': 'Asistencia a Capacitación',
                'verbose_name_plural': 'Asistencias a Capacitaciones',
                'ordering': ['-session__start_datetime'],
                'unique_together': {('session', 'analyst')},
            },
        ),
    ]
